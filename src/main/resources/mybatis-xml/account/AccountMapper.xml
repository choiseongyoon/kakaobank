<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kakaobank.daina.assignment.mapper.AccountMapper">

    <select id="findAll" resultType="Account">
        <![CDATA[
            SELECT ACCOUNT_ID
                  ,NICKNAME
                  ,KOR_NAME
                  ,TEL_NUM
                  ,STATE
                  ,CREATED_AT
                  ,MODIFIED_AT
            FROM ACCOUNT
            ORDER BY NICKNAME
        ]]>
    </select>

    <select id="findByNickname"
            resultType="Account">
        <![CDATA[
            SELECT ACCOUNT_ID
                  ,NICKNAME
                  ,KOR_NAME
                  ,TEL_NUM
                  ,STATE
                  ,CREATED_AT
                  ,MODIFIED_AT
            FROM ACCOUNT
            WHERE NICKNAME = #{nickname}
        ]]>
    </select>

    <select id="findById"
            resultType="Account">
        <![CDATA[
            SELECT ACCOUNT_ID
                  ,NICKNAME
                  ,KOR_NAME
                  ,TEL_NUM
                  ,STATE
                  ,CREATED_AT
                  ,MODIFIED_AT
            FROM ACCOUNT
            WHERE ACCOUNT_ID = #{accountId}
        ]]>
    </select>

    <insert id="insert"
            parameterType="Account">
        <![CDATA[
            INSERT INTO ACCOUNT
            (
                 NICKNAME
                ,KOR_NAME
                ,TEL_NUM
                ,STATE
                ,CREATED_AT
                ,MODIFIED_AT
            )
            VALUES
            (
                #{nickname}
                ,#{korName}
                ,#{telNum}
                ,#{state}
                ,#{createdAt}
                ,#{modifiedAt}
            )
        ]]>
    </insert>

    <update id="update"
            parameterType="Account">
        <![CDATA[
            UPDATE ACCOUNT
            SET NICKNAME = #{nickname}
               ,KOR_NAME = #{korName}
               ,TEL_NUM  = #{telNum}
               ,STATE    = #{state}
               ,CREATED_AT   = #{createdAt}
               ,MODIFIED_AT  = #{modifiedAt}
            WHERE ACCOUNT_ID = #{accountId}
        ]]>
    </update>

</mapper>